import telebot
from telebot import types

from frontend import Bot_inline_btns

tg_api = '6667593230:AAH2ZgrEVgdE4DEt49ksZ-qD1ThJkEXIPag'
bot = telebot.TeleBot(tg_api)


def main():
    @bot.message_handler(commands=['start'])
    def start_msg(message):
        #print(f'{message.from_user.first_name}, {message.from_user.last_name}') #–∏–º—è —Ñ–∞–º–∏–ª–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        buttons = Bot_inline_btns()
        bot.send_message(message.chat.id, '–ü—Ä–∏–≤–µ—Ç!üëã\n'
                                          '–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –ø–æ–∫—É–ø–∫—Éüñ§\n'
                                          '–ú—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∏ –¥–ª—è –≤–∞—Å –ø—Ä–∏—è—Ç–Ω—ã–π –±–æ–Ω—É—Å, '
                                          '—á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ, –Ω–∞–ø–∏—à–∏—Ç–µ –æ—Ç–∑—ã–≤üòä\n'
                                          '–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –∫–∞–∫–∏–µ-—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–∫–∞–∑–æ–º '
                                          '—Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞—à–∏–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–ºüë®‚Äçüíª\n'
                                          '–ú—ã –ø–æ–º–æ–∂–µ–º –≤ —Ä–µ—à–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞!', reply_markup=buttons.start_btns())

    @bot.callback_query_handler(func=lambda call: True)
    def callback(call):
        buttons = Bot_inline_btns()
        if call.data == 'take_gift':
            bot.send_message(call.message.chat.id,
                             '–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥–∞—Ä–∫–∞:\n1.–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ –æ—Ç–∑—ã–≤–∞!\n2.–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º"',
                             reply_markup=buttons.share_number_btn())
            telebot.TeleBot.create_forum_topic(bot, chat_id=-1002003996301, name=f'{call.message.from_user.first_name} {call.message.from_user.last_name} –û–¢–ó–´–í', icon_color=0x6FB9F0)

        elif call.data == 'write_manager':
            bot.send_message(call.message.chat.id, '–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –æ–±—Ä–∞—â–µ–Ω–∏—è!',
                             reply_markup=buttons.write_manager_btns())
        elif call.data in ['another_question', 'complectation_product', 'quality_product']:
            if call.message and call.message.chat:
                bot.send_message(call.message.chat.id, '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É!\n'
                                                       '–¢–∞–∫ –∂–µ –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–∏—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–µ '
                                                       '–ø—Ä–æ–±–ª–µ–º—É.\n'
                                                       '–ú—ã –æ—Ç–≤–µ—Ç–∏–º –≤ —Ç–µ—á–µ–Ω–∏–∏ 24 —á–∞—Å–æ–≤!')
            telebot.TeleBot.create_forum_topic(bot, chat_id=-1002003996301, name=f'{call.message.from_user.first_name} {call.message.from_user.last_name} –ü–†–û–ë–õ–ï–ú–ê –° –¢–û–í–ê–†–û–ú', icon_color=0x6FB9F0,
                                               icon_custom_emoji_id='T')
            # print(telebot.TeleBot.create_forum_topic(bot, chat_id=-1002003996301, name='topic', icon_color=0x6FB9F0,
            # icon_custom_emoji_id='T')) # –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–º –æ–±—ä–µ–∫—Ç–µ –µ—Å—Ç—å id —Ç–æ–ø–∏–∫–∞

    # –∫–æ–Ω—Ç–∞–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    @bot.message_handler(content_types=['contact'])
    def text(message):
        if message.contact is not None:
            print(message.contact)

    bot.polling(none_stop=True)


if '__main__' == __name__:
    main()


#40 —Å—Ç—Ä–æ–∫–∞, –ø—Ä–∏–¥—É–º–∞—Ç—å –∫–∞–∫ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–º—è —Ñ–∞–º–∏–ª–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å —Ç–æ–ø–∏–∫–∏ —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
#—Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–Ω–æ–ø–∫–∏ "–ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫" –±–æ—Ç–∞ –Ω–µ–ª—å–∑—è –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
#–ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–æ–≤–∞—Ä–æ–º, –±–æ—Ç–∞ —Ç–∞–∫ –∂–µ –Ω–µ–ª—å–∑—è –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
#—Å–¥–µ–ª–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
#–¥–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É excel
#–¥–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é: –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–º–µ—Ç "–ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫", –±–æ—Ç –∂–¥–µ—Ç –∫–æ–≥–¥–∞ —á–µ–ª–æ–≤–µ–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç —Ñ–æ—Ç–æ –æ—Ç–∑—ã–≤–∞ –∏ —Å–≤–æ–π –∫–æ–Ω—Ç–∞–∫—Ç, –ø–æ—Ç–æ–º –±–æ—Ç —Å–æ–∑–¥–∞–µ—Ç —Ç–æ–ø–∏–∫ –∏ —Å–∫–∏–¥—ã–≤–∞–µ—Ç —Ç—É–¥–∞ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ñ–æ—Ç–æ+–∫–æ–Ω—Ç–∞–∫—Ç)
#–¥–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å—ã
#–ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –±–æ—Ç–∞ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ (–∫–Ω–æ–ø–∫–∞ "–ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞" –¥–ª—è –ø—Ä–æ–±–ª–µ–º —Å —Ç–æ–≤–∞—Ä–æ–º –∏ –∫–Ω–æ–ø–∫–∞ "–±–æ–Ω—É—Å –≤—ã–ø–ª–∞—á–µ–Ω" –∏–ª–∏ "–±–æ–Ω—É—Å –æ—Ç–∫–ª–æ–Ω–µ–Ω" –¥–ª—è –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫)